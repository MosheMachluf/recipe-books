(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a={app:0},c=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-179d1c4a":"3b54d24a","chunk-179dc528":"7527bc4e","chunk-2d0b59c6":"fa8c3587","chunk-2d212bc4":"ae019571","chunk-2d215ced":"344cc90e","chunk-2d230bb6":"176e68c0","chunk-2dd2e48c":"65d86fd3","chunk-59d6d3d8":"e9a2c7a6","chunk-0f4b5bfc":"6c8bd568","chunk-0fbdec68":"75dc28fd","chunk-2d0e9726":"0363c4b0","chunk-4c75955b":"ccf2f2c9","chunk-4eee0ef6":"f5f168bf","chunk-5ada1a9e":"b755607c","chunk-860ae9d8":"7c1111be"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-179d1c4a":1,"chunk-179dc528":1,"chunk-2dd2e48c":1,"chunk-59d6d3d8":1,"chunk-0f4b5bfc":1,"chunk-0fbdec68":1,"chunk-4c75955b":1,"chunk-4eee0ef6":1,"chunk-5ada1a9e":1,"chunk-860ae9d8":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-179d1c4a":"aaab7baf","chunk-179dc528":"dec0773f","chunk-2d0b59c6":"31d6cfe0","chunk-2d212bc4":"31d6cfe0","chunk-2d215ced":"31d6cfe0","chunk-2d230bb6":"31d6cfe0","chunk-2dd2e48c":"ca71c34d","chunk-59d6d3d8":"e80fb72d","chunk-0f4b5bfc":"9d21c0d7","chunk-0fbdec68":"9d21c0d7","chunk-2d0e9726":"31d6cfe0","chunk-4c75955b":"8ad0bb85","chunk-4eee0ef6":"8ad0bb85","chunk-5ada1a9e":"36f6c271","chunk-860ae9d8":"67d475f3"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],f.parentNode.removeChild(f),n(c)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("the-header"),n("v-main",{staticClass:"grey lighten-3",staticStyle:{"margin-top":"-64px"}},[n("v-container",{staticStyle:{"margin-bottom":"80px"}},[n("router-view")],1)],1),n("the-footer")],1)},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{tile:"",flat:""}},[n("v-toolbar",{attrs:{color:"primary",dark:"",extended:"",flat:"",height:e.headerHeight}},[e.showBackButton?n("v-btn",{attrs:{icon:"",dark:""},on:{click:e.backHistory}},[n("v-icon",[e._v(" mdi-arrow-right ")])],1):e._e(),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.pageTitle)}}),n("v-spacer"),e.isLoggedIn?n("v-btn",{attrs:{color:"black",depressed:""},on:{click:e.logout}},[e._v(" התנתק ")]):e._e()],1)],1)},s=[],i=(n("ac1f"),n("5319"),{props:["some"],data:function(){return{headerHeight:"100px"}},computed:{isLoggedIn:function(){return this.$store.getters["auth/isLoggedIn"]},userName:function(){var e;return(null===(e=this.$store.getters["auth/user"])||void 0===e?void 0:e.firstName)||"אורח"},showBackButton:function(){var e;return null===(e=this.$route.meta)||void 0===e?void 0:e.showBackButton},pageTitle:function(){var e;return(null===(e=this.$route.meta)||void 0===e?void 0:e.title)||"<span>ערב טוב, </span><strong>".concat(this.userName,"</strong>")}},methods:{backHistory:function(){this.$router.back()},logout:function(){this.$store.dispatch("auth/logout"),this.$router.replace("/login")}}}),u=i,d=(n("a099"),n("2877")),l=n("6544"),f=n.n(l),h=n("8336"),m=n("b0af"),p=n("132d"),b=n("2fa4"),k=n("71d9"),g=n("2a7f"),v=Object(d["a"])(u,c,s,!1,null,"2b313869",null),j=v.exports;f()(v,{VBtn:h["a"],VCard:m["a"],VIcon:p["a"],VSpacer:b["a"],VToolbar:k["a"],VToolbarTitle:g["a"]});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-bottom-navigation",{staticClass:"main-navigation",attrs:{"background-color":"black",color:"primary",dark:"",shift:"",fixed:"",grow:""}},[n("v-btn",{attrs:{to:"/",text:""}},[n("span",[e._v("ראשי")]),n("v-icon",[e._v("mdi-home")])],1),n("v-btn",{attrs:{to:"/search",text:""}},[n("span",[e._v("אינדקס")]),n("v-icon",[e._v("mdi-magnify")])],1),n("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:""}},"v-btn",o,!1),r),[n("span",[e._v("הוסף")]),n("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[n("v-list",{staticStyle:{width:"100vw"}},e._l(e.tiles,(function(t){return n("v-list-item",{key:t.title,staticClass:"text-center",attrs:{to:t.to},on:{click:function(t){e.sheet=!1}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1),n("v-btn",{attrs:{to:"/profile/my-fav",text:""}},[n("span",[e._v("מועדפים")]),n("v-icon",[e._v("mdi-heart")])],1),n("v-btn",{attrs:{to:"/profile/edit",text:""}},[n("span",[e._v("פרופיל")]),n("v-icon",[e._v("mdi-account")])],1)],1)},y=[],x={data:function(){return{sheet:!1,tiles:[{title:"צור ספר",to:{name:"AddBook"}},{title:"הוסף מתכון",to:{name:"AddRecipe"}}]}}},B=x,R=n("b81c"),_=n("288c"),I=n("8860"),A=n("da13"),O=n("5d23"),E=Object(d["a"])(B,w,y,!1,null,"514c5bb2",null),T=E.exports;f()(E,{VBottomNavigation:R["a"],VBottomSheet:_["a"],VBtn:h["a"],VIcon:p["a"],VList:I["a"],VListItem:A["a"],VListItemTitle:O["b"]});var C={components:{TheHeader:j,TheFooter:T},data:function(){return{links:["ראשי","הודעות","פרופיל","עדכונים"]}},created:function(){this.$store.dispatch("auth/tryLogin")}},S=C,L=(n("5c0b"),n("7496")),z=n("a523"),V=n("f6c4"),P=Object(d["a"])(S,o,a,!1,null,null,null),N=P.exports;f()(P,{VApp:L["a"],VContainer:z["a"],VMain:V["a"]});var U=n("9483");Object(U["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var q=n("8c4f"),$=(n("d3b7"),n("3ca3"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("v-row",e._l(5,(function(e){return n("v-col",{key:e,attrs:{cols:"12"}},[n("card-loading")],1)})),1):e.hasBooks?n("v-row",e._l(e.allBooks,(function(e){return n("v-col",{key:e._id,attrs:{cols:"12"}},[n("book-item",{attrs:{id:e._id,image:e.image,title:e.title,desc:e.description,created:e.createdAt,user:e.userId}})],1)})),1):n("h3",[e._v("לא נמצאו ספרים")])}),M=[],D=n("1da1"),F=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{rounded:"lg",to:e.bookLink}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:e.image,"lazy-src":e.image,height:"200px",gradient:"to top, rgba(0, 0, 0, 0.7) 20%, transparent 70%"}},[n("v-card-title",[e._v(" "+e._s(e.title)+" ")])],1),n("v-card-subtitle",[e._v(" "+e._s(e.date)+" ")]),n("v-card-text",[e._v(" "+e._s(e.desc)+" ")]),n("v-card-actions",[n("v-list-item",{staticClass:"grow"},[n("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[n("v-img",{staticClass:"elevation-6",attrs:{alt:"",src:"https://www.personality-insights.com/wp-content/uploads/2017/12/default-profile-pic-e1513291410505.jpg"}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.userFullName))])],1)],1)],1)],1)}),H=[],J=(n("99af"),{props:["id","title","desc","image","created","user"],computed:{userFullName:function(){return"".concat(this.user.firstName," ").concat(this.user.lastName)},bookLink:function(){return{name:"Book",params:{bookId:this.id}}},date:function(){return this.$helpers.getDate(this.created)}}}),G=J,Y=n("99d9"),K=n("adda"),Q=n("8270"),W=Object(d["a"])(G,F,H,!1,null,null,null),X=W.exports;f()(W,{VCard:m["a"],VCardActions:Y["a"],VCardSubtitle:Y["b"],VCardText:Y["c"],VCardTitle:Y["d"],VImg:K["a"],VListItem:A["a"],VListItemAvatar:Q["a"],VListItemContent:O["a"],VListItemTitle:O["b"]});var Z=n("8977"),ee={name:"Home",components:{BookItem:X,CardLoading:Z["a"]},data:function(){return{isLoading:!1,error:null}},computed:{allBooks:function(){return this.$store.getters["books/allBooks"]},hasBooks:function(){return this.allBooks&&this.allBooks.length>0}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("books/fetchAllBooks");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Something went wrong";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()}},te=ee,ne=n("62ad"),re=n("0fd9"),oe=Object(d["a"])(te,$,M,!1,null,null,null),ae=oe.exports;f()(oe,{VCol:ne["a"],VRow:re["a"]});var ce=[{name:"Home",path:"/",component:ae},{name:"Profile",path:"/profile",component:function(){return n.e("chunk-179dc528").then(n.bind(null,"7853"))},meta:{requiresAuth:!0},children:[{name:"EditProfile",path:"edit",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-2d0e9726")]).then(n.bind(null,"8e25"))},meta:{requiresAuth:!0}},{name:"MyBooks",path:"my-books",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-2d0e9726")]).then(n.bind(null,"8e25"))},meta:{requiresAuth:!0}},{name:"MyFav",path:"my-fav",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-2d0e9726")]).then(n.bind(null,"8e25"))},meta:{requiresAuth:!0}}]},{name:"Explore",path:"/explore",component:function(){return n.e("chunk-2d215ced").then(n.bind(null,"c07a"))}},{name:"Login",path:"/login",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-4eee0ef6")]).then(n.bind(null,"b2c5"))},meta:{requiresUnauth:!0}},{name:"Signup",path:"/signup",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-4c75955b")]).then(n.bind(null,"5794"))},meta:{requiresUnauth:!0}},{name:"RootBook",path:"/book",component:function(){return n.e("chunk-2d0b59c6").then(n.bind(null,"1a44"))},children:[{name:"AddBook",path:"add",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-0f4b5bfc")]).then(n.bind(null,"46d0"))},meta:{showBackButton:!0,title:"צור ספר חדש",requiresAuth:!0}},{name:"EditBook",path:":bookId/edit",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-0fbdec68")]).then(n.bind(null,"04bb"))},meta:{requiresAuth:!0,showBackButton:!0}},{name:"Recipes",path:":bookId/recipes",component:function(){return n.e("chunk-860ae9d8").then(n.bind(null,"9040"))},meta:{showBackButton:!0,title:"מתכונים"}},{name:"Book",path:":bookId",component:function(){return n.e("chunk-2dd2e48c").then(n.bind(null,"3868"))},meta:{showBackButton:!0}},{name:"AddBookRecipe",path:":bookId/add-recipe",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-5ada1a9e")]).then(n.bind(null,"53d8"))},meta:{requiresAuth:!0,showBackButton:!0}}]},{name:"RootRecipe",path:"/recipe",component:function(){return n.e("chunk-2d230bb6").then(n.bind(null,"ee11"))},children:[{name:"AddRecipe",path:"add",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-5ada1a9e")]).then(n.bind(null,"53d8"))},meta:{requiresAuth:!0,showBackButton:!0}},{name:"EditRecipe",path:":recipeId/edit",component:function(){return Promise.all([n.e("chunk-59d6d3d8"),n.e("chunk-5ada1a9e")]).then(n.bind(null,"53d8"))},meta:{requiresAuth:!0,showBackButton:!0}},{name:"RecipeDetails",path:":recipeId",component:function(){return n.e("chunk-179d1c4a").then(n.bind(null,"dc19"))},meta:{showBackButton:!0,requiresAuth:!0}}]},{path:"/:notFound(.*)",component:function(){return n.e("chunk-2d212bc4").then(n.bind(null,"aa4b"))}}],se=ce;r["a"].use(q["a"]);var ie=new q["a"]({mode:"history",base:"/",routes:se,scrollBehavior:function(e,t,n){return n||{left:0,top:0}}}),ue=ie,de=n("2f62"),le={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.user=t.user}},fe={user:function(e){return e.user},userId:function(e){return e.userId},token:function(e){return e.token},isLoggedIn:function(e){return!!e.token}},he=(n("e9c4"),n("d4ec")),me=n("bee2"),pe=n("1232"),be=function(){function e(){Object(he["a"])(this,e)}return Object(me["a"])(e,null,[{key:"decodeToken",value:function(){var e=localStorage.getItem("token");if(!e)return null;try{return Object(pe["a"])(e)}catch(t){return null}}},{key:"getApiUrl",value:function(){return"/api/"}}]),e}(),ke=be,ge=ke.getApiUrl(),ve={login:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",{mode:"login",data:{email:t.email,password:t.password}}));case 1:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",{mode:"signup",data:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password}}));case 1:case"end":return n.stop()}}),n)})))()},auth:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=ge+"auth/"+t.mode,o=JSON.stringify(t.data),n.next=4,fetch(r,{method:"POST",body:o,headers:{"Content-Type":"application/json"}});case 4:if(a=n.sent,a.ok){n.next=7;break}throw new Error(a.message||"שגיאה בהתחברות, אנא נסה שוב מאוחר יותר.");case 7:return n.next=9,a.json();case 9:c=n.sent,localStorage.setItem("token",c.token),localStorage.setItem("userId",c.userId),e.commit("setUser",{token:c.token,userId:c.userId,user:c.user});case 13:case"end":return n.stop()}}),n)})))()},tryLogin:function(e){return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token"),r=localStorage.getItem("userId"),o=ke.decodeToken(),o){t.next=5;break}return t.abrupt("return",e.dispatch("logout"));case 5:o&&n&&r&&e.commit("setUser",{token:n,userId:r,user:o});case 6:case"end":return t.stop()}}),t)})))()},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),e.commit("setUser",{token:null,userId:null,user:null})}},je={namespaced:!0,state:function(){return{user:null,userId:null,token:null}},mutations:le,getters:fe,actions:ve},we={setAllBooks:function(e,t){e.allBooks=t},setMyBooks:function(e,t){e.myBooks=t},setBookRecipes:function(e,t){e.bookRecipes=t},setCurrentBook:function(e,t){e.currentBook=t},addBook:function(e,t){e.allBooks=t,e.myBooks=t}},ye={allBooks:function(e){return e.allBooks},myBooks:function(e){return e.myBooks},bookRecipes:function(e){return e.bookRecipes},currentBook:function(e){return e.currentBook}},xe=(n("a4d3"),n("e01a"),{fetchMyBooks:function(e){return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ke.getApiUrl()+"books",t.next=3,fetch(n,{headers:{Authorization:"Bearer "+e.rootGetters["auth/token"]}});case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error(r.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 6:return t.next=8,r.json();case 8:o=t.sent,e.commit("setMyBooks",o);case 10:case"end":return t.stop()}}),t)})))()},fetchAllBooks:function(e){return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ke.getApiUrl()+"books/all",t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error(r.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 6:return t.next=8,r.json();case 8:o=t.sent,e.commit("setAllBooks",o);case 10:case"end":return t.stop()}}),t)})))()},fetchBookRecipes:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=ke.getApiUrl()+"recipes/book/"+t.bookId,n.next=3,fetch(r);case 3:if(o=n.sent,o.ok){n.next=6;break}throw new Error(o.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 6:return n.next=8,o.json();case 8:a=n.sent,e.commit("setBookRecipes",a);case 10:case"end":return n.stop()}}),n)})))()},fetchBook:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=ke.getApiUrl()+"books/single/"+t.bookId,n.next=3,fetch(r);case 3:if(o=n.sent,o.ok){n.next=6;break}throw new Error(o.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 6:return n.next=8,o.json();case 8:a=n.sent,e.commit("setCurrentBook",a);case 10:case"end":return n.stop()}}),n)})))()},createBook:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=ke.getApiUrl()+"books",o=JSON.stringify({title:t.title,description:t.description,image:t.image}),n.next=4,fetch(r,{method:"POST",body:o,headers:{Authorization:"Bearer "+e.rootGetters["auth/token"],"Content-Type":"application/json"}});case 4:if(a=n.sent,401!=a.status){n.next=7;break}throw new Error("אין לך הרשאה");case 7:if(a.ok){n.next=9;break}throw new Error(a.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 9:return n.next=11,a.json();case 11:c=n.sent,e.commit("addBook",c.book);case 13:case"end":return n.stop()}}),n)})))()},updateBook:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="".concat(ke.getApiUrl(),"books/").concat(t.bookId),o=JSON.stringify({title:t.title,description:t.description,image:t.image,status:t.status}),n.next=4,fetch(r,{method:"PUT",body:o,headers:{Authorization:"Bearer "+e.rootGetters["auth/token"],"Content-Type":"application/json"}});case 4:if(a=n.sent,401!=a.status){n.next=7;break}throw new Error("אין לך הרשאה");case 7:if(a.ok){n.next=9;break}throw new Error(a.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 9:case"end":return n.stop()}}),n)})))()},deleteBook:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(ke.getApiUrl(),"books/").concat(t.bookId),e.next=3,fetch(n,{method:"DELETE"});case 3:if(r=e.sent,401!=r.status){e.next=6;break}throw new Error("אין לך הרשאה");case 6:if(r.ok){e.next=8;break}throw new Error(r.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 8:case"end":return e.stop()}}),e)})))()}}),Be={namespaced:!0,state:function(){return{currentBook:null,bookRecipes:null,myBooks:null,allBooks:null}},mutations:we,getters:ye,actions:xe},Re={setCurrentRecipe:function(e,t){e.currentRecipe=t},addRecipe:function(){},updateRecipe:function(){},deleteRecipe:function(){}},_e={currentRecipe:function(e){return e.currentRecipe},allRecipes:function(e){var t=e.allRecipes;return t}},Ie={fetchRecipe:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="".concat(ke.getApiUrl(),"recipes/").concat(t.recipeId),n.next=3,fetch(r);case 3:return o=n.sent,n.next=6,o.json();case 6:if(a=n.sent,o.ok){n.next=9;break}throw new Error(o.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 9:e.commit("setCurrentRecipe",a);case 10:case"end":return n.stop()}}),n)})))()},createRecipe:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=ke.getApiUrl()+"recipes",o=JSON.stringify({title:t.title,description:t.description,image:t.image,ingredients:t.ingredients,preparation:t.preparation,totalTime:t.totalTime,tags:t.tags,bookId:t.bookId}),n.next=4,fetch(r,{method:"POST",body:o,headers:{Authorization:"Bearer "+e.rootGetters["auth/token"],"Content-Type":"application/json"}});case 4:if(a=n.sent,401!=a.status){n.next=7;break}throw new Error("אין לך הרשאה");case 7:if(a.ok){n.next=9;break}throw new Error(a.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 9:return n.next=11,a.json();case 11:case"end":return n.stop()}}),n)})))()},updateRecipe:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="".concat(ke.getApiUrl(),"recipes/").concat(t.recipeId),o=JSON.stringify({title:t.title,description:t.description,image:t.image,ingredients:t.ingredients,preparation:t.preparation,totalTime:t.totalTime,tags:t.tags,bookId:t.bookId}),n.next=4,fetch(r,{method:"PUT",body:o,headers:{Authorization:"Bearer "+e.rootGetters["auth/token"],"Content-Type":"application/json"}});case 4:if(a=n.sent,401!=a.status){n.next=7;break}throw new Error("אין לך הרשאה");case 7:if(a.ok){n.next=9;break}throw new Error(a.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 9:return n.next=11,a.json();case 11:case"end":return n.stop()}}),n)})))()},deleteRecipe:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="".concat(ke.getApiUrl(),"recipes/").concat(t.recipeId),n.next=3,fetch(r,{method:"DELETE",headers:{Authorization:"Bearer "+e.rootGetters["auth/token"],"Content-Type":"application/json"}});case 3:if(o=n.sent,401!=o.status){n.next=6;break}throw new Error("אין לך הרשאה");case 6:if(o.ok){n.next=8;break}throw new Error(o.message||"שגיאה, אנא נסה שוב מאוחר יותר.");case 8:return n.next=10,o.json();case 10:case"end":return n.stop()}}),n)})))()}},Ae={namespaced:!0,state:function(){return{currentRecipe:null,allRecipes:null}},mutations:Re,getters:_e,actions:Ie};r["a"].use(de["a"]);var Oe=new de["a"].Store({modules:{auth:je,books:Be,recipes:Ae}}),Ee=n("f309");r["a"].use(Ee["a"]);var Te=new Ee["a"]({rtl:!0,theme:{themes:{light:{primary:"#fb8c00",secondary:"#b0bec5",success:"#34aa54",accent:"#8c9eff",error:"#f36"}}}}),Ce=n("c1df"),Se=n.n(Ce);r["a"].config.productionTip=!1,r["a"].prototype.$helpers={getDate:function(e){return e?Se()(e).format("DD/MM/YYYY"):null}},Oe.dispatch("auth/tryLogin").then((function(){ue.beforeEach((function(e,t,n){var r="ספרי מתכונים";document.title=r,e.meta.title&&(document.title="".concat(r," | ").concat(e.meta.title)),!e.meta.requiresAuth||Oe.getters["auth/isLoggedIn"]?e.meta.requiresUnauth&&Oe.getters["auth/isLoggedIn"]?n("/"):n():n("/login")})),new r["a"]({router:ue,store:Oe,vuetify:Te,render:function(e){return e(N)}}).$mount("#app")}))},"5c0b":function(e,t,n){"use strict";n("9c0c")},8977:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})},o=[],a={inject:{theme:{default:{isDark:!1}}}},c=a,s=n("2877"),i=n("6544"),u=n.n(i),d=n("3129"),l=Object(s["a"])(c,r,o,!1,null,null,null);t["a"]=l.exports;u()(l,{VSkeletonLoader:d["a"]})},"9c0c":function(e,t,n){},a099:function(e,t,n){"use strict";n("a91c")},a91c:function(e,t,n){}});
//# sourceMappingURL=app.710618b9.js.map